<!DOCTYPE html>
<html lang="en">
<head>
     <meta charset="utf-8">
     <title>D3 Test</title>
     <link href="/c3.css" rel="stylesheet">

     <!-- Load d3.js and c3.js -->
     <script src="/d3.v5.min.js" charset="utf-8"></script>
     <script src="/c3.min.js"></script>
 </head>


    <body>
        <div id="chart" onload="showdata()"></div>
        <form ><button onclick="showdata()" id="tempform">getdata</button>
        </form>
        <script>
 
            var dataArray=[20,30,60];
            var width=500;
            var height=500;
            
                var i=0;
            function showdata(){
                
            var disdata=["Colloge Mark"];
                const data = d3.csv("/csvdata").then(data => {
                data.forEach(element => {
                    if(i==0){disdata.push(element.collegeMark);}
                   
                }); 
                    console.log(disdata); i=1;
            })
                return disdata;
            }
            var chart = c3.generate({
            data: {
                    bindto: '#chart',
                    columns: [
                        disdata=showdata()
                      //  ['data2', 50, 20, 10, 40, 15, 25]
                ]
            }
              

});  
            setTimeout(function () {
                    chart.load({
                        columns: [
                            disdata
                        ]
                    });
                }, 1000);
        </script>
    </body>
</html> 
